(function(t){function e(e){for(var a,o,i=e[0],s=e[1],u=e[2],h=0,d=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),c()}function c(){for(var t,e=0;e<n.length;e++){for(var c=n[e],a=!0,i=1;i<c.length;i++){var s=c[i];0!==r[s]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=c[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var c=a[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=t,o.c=a,o.d=function(t,e,c){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(c,a,function(e){return t[e]}.bind(null,a));return c},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;n.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"0ccf":function(t,e,c){"use strict";c("b252")},3201:function(t,e,c){"use strict";c("9393")},4497:function(t,e,c){"use strict";c("573c")},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var a=c("7a23");function r(t,e,c,r,n,o){var i=Object(a["w"])("NavBar"),s=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(i),Object(a["g"])(s)],64)}var n=Object(a["B"])("data-v-95c8707a");Object(a["s"])("data-v-95c8707a");var o={class:"nav-bar"},i={class:"container"},s={class:"row justify-content-between"},u={class:"col-3"},l={class:"title"},h=Object(a["g"])("h1",null,"Star Wars",-1),d=Object(a["g"])("h2",null,"Characters",-1),p=Object(a["g"])("div",{class:"col-6 spacer"},null,-1),b={class:"col-4 mt-5 col-md-auto"},f=Object(a["f"])("Random Character");Object(a["q"])();var O=n((function(t,e,c,r,O,j){var g=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("nav",o,[Object(a["g"])("div",i,[Object(a["g"])("div",s,[Object(a["g"])("div",u,[Object(a["g"])("div",l,[Object(a["g"])(g,{to:{name:"CharacterList",params:{}}},{default:n((function(){return[h,d]})),_:1})])]),p,Object(a["g"])("div",b,[Object(a["g"])("ul",null,[Object(a["g"])("li",null,[Object(a["g"])(g,{to:{name:"CharacterDetails",params:{_id:-1}}},{default:n((function(){return[f]})),_:1})])])])])])])})),j={name:"NavBar"};c("4497");j.render=O,j.__scopeId="data-v-95c8707a";var g=j,v={components:{NavBar:g}};v.render=r;var m=v,w=c("6c02"),y=Object(a["B"])("data-v-0084b1e2");Object(a["s"])("data-v-0084b1e2");var _={class:"characterList"},C={class:"container"},P={class:"row justify-content-md-center"},x={class:"row justify-content-between mt-4"},k={key:0,class:"col-2"},L=Object(a["f"])("Previous"),S=Object(a["g"])("div",{class:"col-8"},null,-1),I={key:1,class:"col-2 col-md-auto"},B=Object(a["f"])("Next");Object(a["q"])();var N=y((function(t,e,c,r,n,o){var i=Object(a["w"])("CharacterCard"),s=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])("div",_,[Object(a["g"])("div",C,[Object(a["g"])("div",P,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.characters,(function(t){return Object(a["p"])(),Object(a["d"])("div",{class:"col-md-auto mt-4 justify-content-center d-inline-flex",key:t.url},[Object(a["g"])(i,{character:t},null,8,["character"])])})),128))]),Object(a["g"])("div",x,[n.previous?(Object(a["p"])(),Object(a["d"])("div",k,[Object(a["g"])(s,{class:"nav",to:{name:"CharacterList",params:{id:n.previous}}},{default:y((function(){return[L]})),_:1},8,["to"])])):Object(a["e"])("",!0),S,n.next?(Object(a["p"])(),Object(a["d"])("div",I,[Object(a["g"])(s,{class:"nav",to:{name:"CharacterList",params:{id:n.next}}},{default:y((function(){return[B]})),_:1},8,["to"])])):Object(a["e"])("",!0)])])])})),M=(c("159b"),c("fb6a"),c("b0c0"),c("9911"),Object(a["B"])("data-v-bed6c0bc"));Object(a["s"])("data-v-bed6c0bc");var E={class:"card-header"};Object(a["q"])();var H=M((function(t,e,c,r,n,o){var i=Object(a["w"])("router-link");return Object(a["p"])(),Object(a["d"])(i,{class:"card dp2",to:{name:"CharacterDetails",params:{_id:c.character.id}}},{default:M((function(){return[Object(a["g"])("div",E,Object(a["y"])(c.character.name.toLowerCase()),1),Object(a["g"])("img",{src:c.character.photo,class:"card-img-top"},null,8,["src"])]})),_:1},8,["to"])})),q={name:"CharacterCard",props:{character:{type:Object,required:!0}},data:function(){return{hover:!1}}};c("0ccf");q.render=H,q.__scopeId="data-v-bed6c0bc";var D=q,$=(c("d3b7"),c("bc3a")),T=c.n($),R={count:0,defaultPhoto:"https://www.estudarfora.org.br/wp-content/uploads/2018/05/cursos-sobre-Star-Wars-1.jpg",characters:{},photos:{},pages:[]};function A(t){t.forEach((function(t){R.characters[t.url.slice(t.url.indexOf("/people/")+8,t.url.length-1)]=t}))}function J(t,e){R.photos[t]=e}var X=T.a.create({baseURL:"https://swapi.dev/api/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),z={getCharacters:function(t){return"undefined"!==typeof R.pages[t]?new Promise((function(e){return e(R.pages[t])})):new Promise((function(e,c){X.get("people/?page="+t).then((function(c){R.count=c.data.count,A(c.data.results),R.pages[t]=c,e(c)})).catch(c)}))},getCharacter:function(t){return"undefined"!==typeof R.characters[t]?new Promise((function(e){return e({data:R.characters[t]})})):X.get("people/"+t)},getHomeworld:function(t){return X.get("planets/"+t)},getStarship:function(t){return X.get("starships/"+t)},getPhoto:function(t){return"undefined"!==typeof R.photos[t]?new Promise((function(e){return e({link:R.photos[t]})})):new Promise((function(e,c){X.get("https://www.googleapis.com/customsearch/v1?key=AIzaSyDOQXTiIXNQ7wdl28X5FJ3SAPcbdNM8dEw&cx=ccdc96df0b94a890e&searchType=image&imgSize=xlarge&alt=json&num=1&start=1&q="+t).then((function(c){J(t,c.data.items[0].link),e(c.data.items[0])})).catch(c)}))}},Q={props:["id"],name:"CharacterList",components:{CharacterCard:D},data:function(){return{characters:[],pagination:"",next:null,previous:null}},created:function(){this.init()},watch:{$route:function(){this.init()}},methods:{init:function(){var t=this;this.pagination="",this.$route.params.id&&(this.pagination=this.$route.params.id),z.getCharacters(this.pagination).then((function(e){t.characters=e.data.results,t.getRoutes(e.data.next,e.data.previous),t.addId(t.characters),t.addPhoto(t.characters)})).catch((function(t){return console.log(t)}))},addId:function(t){t.forEach((function(t){t.id=t.url.slice(t.url.indexOf("/people/")+8,t.url.length-1)}))},addPhoto:function(t){t.forEach((function(t){z.getPhoto(t.name).then((function(e){t.photo=e.link})).catch((function(){return t.photo=R.defaultPhoto}))}))},getRoutes:function(t,e){this.next=t?t.slice(t.indexOf("=")+1):null,this.previous=e?e.slice(e.indexOf("=")+1):null}}};c("3201");Q.render=N,Q.__scopeId="data-v-0084b1e2";var W=Q,F=Object(a["B"])("data-v-28311550");Object(a["s"])("data-v-28311550");var G={class:"panel panel-default"},K={class:"panel-body ml-6"},U={class:"row",style:{height:"300px"}},V={class:"col-6 mx-auto"},Y={class:"col-5"},Z={class:"row"},tt=Object(a["g"])("h1",null,"Starships:",-1),et={class:"row"};Object(a["q"])();var ct=F((function(t,e,c,r,n,o){return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("div",G,[Object(a["g"])("div",K,[Object(a["g"])("div",U,[Object(a["g"])("div",V,[Object(a["g"])("img",{src:n.character.photo,class:"img-fluid"},null,8,["src"])]),Object(a["g"])("div",Y,[Object(a["g"])("div",Z,[Object(a["g"])("h1",null,"Name: "+Object(a["y"])(n.character.name),1),Object(a["g"])("h1",null,"Height: "+Object(a["y"])(n.character.height)+" cm",1),Object(a["g"])("h1",null,"Mass: "+Object(a["y"])(n.character.mass),1),Object(a["g"])("h1",null,"Hair color: "+Object(a["y"])(n.character.hair_color),1),Object(a["g"])("h1",null,"Skin color: "+Object(a["y"])(n.character.skin_color),1),Object(a["g"])("h1",null,"Eye color: "+Object(a["y"])(n.character.eye_color),1),Object(a["g"])("h1",null,"Year of birth: "+Object(a["y"])(n.character.birth_year),1),Object(a["g"])("h1",null,"Gender: "+Object(a["y"])(n.character.gender),1),Object(a["g"])("h1",null,"Homeworld: "+Object(a["y"])(n.character.homeworld),1),tt]),Object(a["g"])("div",et,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(n.character.starships,(function(t){return Object(a["p"])(),Object(a["d"])("h1",{key:t}," - "+Object(a["y"])(t),1)})),128))])])])])])])})),at=(c("ac1f"),c("5319"),{props:["_id"],data:function(){return{character:{},id:void 0}},created:function(){this.getId()},watch:{$route:function(){this.getId()}},methods:{processData:function(t){this.character.name=t.name.toLowerCase(),this.character.height=t.height.toLowerCase(),this.character.mass=t.mass.toLowerCase(),this.character.hair_color=t.hair_color.toLowerCase(),this.character.skin_color=t.skin_color.toLowerCase(),this.character.eye_color=t.eye_color.toLowerCase(),this.character.birth_year=t.birth_year.toLowerCase(),this.character.gender=t.gender.toLowerCase(),this.getPhoto(t.name),this.getHomeworld(t.homeworld),this.getStarships(t.starships),isNaN(this.character.mass)||(this.character.mass+=" Kg")},getHomeworld:function(t){var e=this,c=t.slice(t.indexOf("/planets/")+9,t.length-1);z.getHomeworld(c).then((function(t){e.character.homeworld=t.data.name})).catch((function(t){return console.log(t)}))},getStarships:function(t){var e=this;this.character.starships=[],t.forEach((function(t){var c=t.slice(t.indexOf("/starships/")+11,t.length-1);z.getStarship(c).then((function(t){e.character.starships.push(t.data.name)})).catch((function(t){return console.log(t)}))}))},getId:function(){var t=this;if(this.id=this.$route.params._id,"undefined"!==typeof this.id)return this.id<0?(this.id=Math.floor(Math.random()*R.count-1)+1,17===this.id&&this.id++,void this.$router.replace("/character/"+this.id)):void z.getCharacter(this.id).then((function(e){t.processData(e.data)})).catch((function(t){return console.log(t)}))},getPhoto:function(t){var e=this;z.getPhoto(t).then((function(t){e.character.photo=t.link})).catch((function(){return e.character.photo=R.defaultPhoto}))}}});c("c815");at.render=ct,at.__scopeId="data-v-28311550";var rt=at,nt=[{path:"/:id?",name:"CharacterList",prosp:!0,component:W},{path:"/character/:_id",name:"CharacterDetails",props:!0,component:rt}],ot=Object(w["a"])({history:Object(w["b"])("/"),routes:nt,scrollBehavior:function(){document.getElementById("app").scrollIntoView()}}),it=ot,st=c("5502"),ut=Object(st["a"])({state:{},mutations:{},actions:{},modules:{}});c("7b17"),c("ab8b"),c("aede");Object(a["c"])(m).use(ut).use(it).mount("#app")},"573c":function(t,e,c){},9393:function(t,e,c){},aede:function(t,e,c){},b252:function(t,e,c){},c815:function(t,e,c){"use strict";c("e823")},e823:function(t,e,c){}});
//# sourceMappingURL=app.e6ff9ce3.js.map